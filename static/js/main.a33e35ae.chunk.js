(this["webpackJsonpstock-graph"]=this["webpackJsonpstock-graph"]||[]).push([[0],{217:function(e,t,a){e.exports=a(408)},222:function(e,t,a){},224:function(e,t,a){},408:function(e,t,a){"use strict";a.r(t);var r,n=a(1),c=a.n(n),o=a(18),l=a.n(o),s=a(421),i=(a(222),a(24)),m=a.n(i),u=a(48),p=a(28);a(224);!function(e){e[e.SET_FILTERS=0]="SET_FILTERS",e[e.SET_POINTS=1]="SET_POINTS",e[e.LOAD_POINTS=2]="LOAD_POINTS",e[e.SET_ERROR=3]="SET_ERROR",e[e.RESET_APP=4]="RESET_APP"}(r||(r={}));var h=a(16),d=a(423),E=a(424),f=a(425),v=function(e){var t=e.graphData,a=Object(n.useState)(!1),r=Object(p.a)(a,2),o=r[0],l=r[1];return c.a.createElement(n.Fragment,null,c.a.createElement(h.e,{width:"100%",aspect:3,debounce:1},c.a.createElement(h.d,{data:t},c.a.createElement(h.c,{type:"monotone",name:"open",dataKey:"open",stroke:"blue"}),c.a.createElement(h.c,{type:"monotone",name:"close",dataKey:"close",stroke:"red"}),o?c.a.createElement(h.c,{type:"monotone",name:"average",dataKey:"av.average",stroke:"green"}):null,c.a.createElement(h.a,{stroke:"#ccc"}),c.a.createElement(h.g,{dataKey:"name"}),c.a.createElement(h.h,{type:"number",domain:["dataMin-10","dataMax+10"]}),c.a.createElement(h.f,null),c.a.createElement(h.b,{verticalAlign:"top",height:36}))),c.a.createElement(d.a,{id:"show-average",label:"Show Average",checked:o,onChange:function(e){return l(e.target.checked)}}))},b=function(e){var t=e.graphData,a=e.symbol;return c.a.createElement("div",{className:"Graph-section"},a?c.a.createElement(E.a,{level:3},"Symbol: ",a):null,t.length?c.a.createElement(v,{graphData:t}):c.a.createElement(f.a,{margin:"medium"},"No data to draw the chart. Please asjust the filters on the left side of the screen"))},g=a(422),y=a(419),O=a(426),S=function(e){var t=e.filters,a=e.applyFilters,r=Object(n.useState)(t.symbol),o=Object(p.a)(r,2),l=o[0],s=o[1],i=Object(n.useState)(t.range),m=Object(p.a)(i,2),u=m[0],h=m[1],d=[{value:"1d",name:"1 day"},{value:"5d",name:"5 days"},{value:"3mo",name:"3 months"},{value:"6mo",name:"6 months"},{value:"1y",name:"1 year"},{value:"5y",name:"5 years"},{value:"max",name:"Maximum possible"}],f=d.find((function(e){return e.value===u}));return c.a.createElement("div",{className:"Filters"},c.a.createElement(E.a,{size:"small",level:2},"Filters"),c.a.createElement("div",{className:"Filter"},c.a.createElement("label",{htmlFor:"symbol"},"Symbol"),c.a.createElement(g.a,{className:"Filters-symbol",placeholder:"Enter Symbol",id:"symbol",name:"symbol",value:l,onChange:function(e){return s(e.target.value.toUpperCase())}})),c.a.createElement("div",{className:"Filter"},c.a.createElement("label",{htmlFor:"range-selector"},"Range"),c.a.createElement(y.a,{placeholder:"Range",id:"range-selector",margin:{bottom:"medium"},onChange:function(e){return h(e.value.value)},options:d,labelKey:"name",valueKey:"value",value:f})),c.a.createElement(O.a,{primary:!0,onClick:function(){return a({symbol:l,range:u})},label:"Apply Filters"}))},j=a(184),T=c.a.createElement("svg",{version:"1.1",viewBox:"0 0 32 32",width:"28px",height:"28px",fill:"#7D4CDB"},c.a.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),c.a.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"},c.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"}))),w=function(){return c.a.createElement(j.a,{align:"center",justify:"center"},T)},R=function(e){var t=e.symbol;return c.a.createElement(n.Fragment,null,c.a.createElement(f.a,{margin:"medium"},"Loading data for ",t),c.a.createElement(w,null))},k=a(71),A=a(72),x=a(73),N=a(183),_=a.n(N),D=function(){function e(t){var a=t.chart.result;Object(k.a)(this,e),this.timestamps=void 0,this.quote=void 0,this.timestamps=a[0].timestamp,this.quote=a[0].indicators.quote[0]}return Object(A.a)(e,[{key:"getGraphData",value:function(){var e=this;return this.timestamps.reduce((function(t,a,r){var n=e.quote.close[r],c=e.quote.open[r];t.averageStore.average=(n+t.averageStore.average*r)/(r+1);var o={close:n,open:c,name:_()(1e3*a).format("MMMM Do YYYY"),av:t.averageStore};return t.points=[].concat(Object(x.a)(t.points),[o]),t}),{points:[],averageStore:{average:0}}).points}}]),e}(),P={"x-rapidapi-host":"apidojo-yahoo-finance-v1.p.rapidapi.com","x-rapidapi-key":"34f9635e85msh91d4de8fef1e5a9p1a5a2djsn5fe2e5a4628f",useQueryString:!0},F=function(){function e(t){Object(k.a)(this,e),this.fetcher=void 0,this.apis={market:{getCharts:"/market/get-charts"}},this.fetcher=t||window.fetch.bind(window)}return Object(A.a)(e,[{key:"getChartData",value:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRawChartData(t);case 2:return a=e.sent,r=new D(a),e.abrupt("return",r.getGraphData());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRawChartData",value:function(){var e=Object(u.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetcher("".concat("https://apidojo-yahoo-finance-v1.p.rapidapi.com").concat(this.apis.market.getCharts,"?region=US&lang=en&symbol=").concat(t.symbol,"&range=").concat(t.range,"&interval=1d"),{method:"GET",headers:P});case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(r=e.sent).chart.error){e.next=9;break}throw new Error(r.chart.error.description);case 9:return e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(0),console.log(e.t0),new Error("A problem occured while loading the needed informations");case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),C=a(15),I=function(e,t){switch(t.type){case r.SET_FILTERS:return Object(C.a)(Object(C.a)({},e),{},{filters:Object(C.a)(Object(C.a)({},e.filters),t.filters)});case r.SET_POINTS:return Object(C.a)(Object(C.a)({},e),{},{points:Object(x.a)(t.points),loading:!1});case r.LOAD_POINTS:return Object(C.a)(Object(C.a)({},e),{},{points:[],loading:!0});case r.SET_ERROR:return Object(C.a)(Object(C.a)({},e),{},{points:[],loading:!1,error:t.error});case r.RESET_APP:return Object(C.a)({},t.initialState)}},M={points:[],filters:{symbol:"",range:"5d"},loading:!1,error:""},L=function(){var e=Object(n.useReducer)(I,M),t=Object(p.a)(e,2),a=t[0],o=a.points,l=a.filters,s=a.loading,i=a.error,h=t[1],d=l.symbol;return Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h({type:r.LOAD_POINTS}),e.next=4,(new F).getChartData(l);case 4:t=e.sent,h({type:r.SET_POINTS,points:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h({type:r.SET_ERROR,error:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();l.symbol?e():h({type:r.RESET_APP,initialState:M})}),[l]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},"Stock Graph"),c.a.createElement("div",{className:"App-content"},c.a.createElement("div",{className:"App-filters"},c.a.createElement(S,{filters:l,applyFilters:function(e){return h({type:r.SET_FILTERS,filters:e})}})),c.a.createElement("div",{className:"App-graph"},s?c.a.createElement(R,{symbol:d}):i?c.a.createElement("div",null," ",i," "):c.a.createElement(b,{graphData:o,symbol:d}))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,{theme:{global:{colors:{brand:"#228BE6"},font:{size:"16px",height:"20px"}}}},c.a.createElement(L,null))),document.getElementById("root"))}},[[217,1,2]]]);
//# sourceMappingURL=main.a33e35ae.chunk.js.map